flask import Flask, request, jsonify
app = Flask(__name__)
def hitung_diskon(harga_awal, persen_diskon):
    jumlah_diskon = harga_awal * (persen_diskon / 100)
    harga_akhir = harga_awal - jumlah_diskon
    return jumlah_diskon, harga_akhir

@app.route('/', methods=['GET'])
def home():
    return '''
    <h1>Aplikasi Penghitung Diskon</h1>
    <form action="/hitung" method="get">
        <p>Harga awal (Rp): <input type="number" name="harga" required></p>
        <p>Persentase diskon (%): <input type="number" name="diskon" required></p>
        <input type="submit" value="Hitung">
    </form>
    '''

@app.route('/hitung', methods=['GET'])
def calculate():
    try:
        harga = float(request.args.get('harga', 0))
        diskon = float(request.args.get('diskon', 0))
        
        jumlah_diskon, total = hitung_diskon(harga, diskon)
        
        return jsonify({
            'harga_awal': f"Rp{harga:,.2f}",
            'diskon': f"Rp{jumlah_diskon:,.2f}",
            'harga_final': f"Rp{total:,.2f}"
        })
    except ValueError:
        return jsonify({'error': 'Input tidak valid'}), 400

if __name__ == '__main__':
